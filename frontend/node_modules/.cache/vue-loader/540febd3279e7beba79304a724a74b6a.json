{"remainingRequest":"/home/em/Desktop/frontend_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/em/Desktop/frontend_vue/src/components/maincomponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/em/Desktop/frontend_vue/src/components/maincomponent.vue","mtime":1553259376975},{"path":"/home/em/Desktop/frontend_vue/node_modules/cache-loader/dist/cjs.js","mtime":1552908606501},{"path":"/home/em/Desktop/frontend_vue/node_modules/babel-loader/lib/index.js","mtime":1552908601090},{"path":"/home/em/Desktop/frontend_vue/node_modules/cache-loader/dist/cjs.js","mtime":1552908606501},{"path":"/home/em/Desktop/frontend_vue/node_modules/vue-loader/lib/index.js","mtime":1552908606777}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport axios from 'axios';\n\n\nexport default {\n  \n  name: 'maincomponent',\n  data () {\n    return {\n      query: '',\n      allarti: [],\n      toshow: [],\n      found: false,\n      nextt: '1',\n\n      \n      url_router: 'Početna',\n\n      cat: \"http://127.0.0.1:8000/categories/\",\n      last: 'articles/?page=',\n      pocetna: 'http://127.0.0.1:8000/articles/?page=',\n      link: 'http://127.0.0.1:8000/articles/?page=',\n      page: '1',\n      prevpage: '1',\n      cat_id:'',\n      articles: [],\n      categories: [],\n      image: '',\n      description: '',\n      pulled: false,\n\n      err: ''\n    }\n  }, \n  methods: {\n\n    split_desc: function(desc){\n      var splitted = desc.split(\" />\")\n      var i = splitted[0]\n      i = i.split('\"')\n      this.image = i[1]\n\n      this.description = splitted[1]\n\n\n    },\n\n    format_date: function(fdate){\n       \n      var a = fdate.replace(/...Z$/, \"h\").replace(\"T\", \" \").split(\" \")\n      return a[0].split(\"-\").reverse().join(\".\") + \" u \" + a[1]\n    },\n\n    set_url_router: function(setr){\n      this.toshow = []\n      this.found = false\n      this.url_router = setr\n      if (this.url_router == 'Početna'){\n        this.link = this.pocetna\n        this.getArticles()\n        return\n      }\n      if (this.url_router == 'Aktualno'){\n        this.cat_id = this.categories[0].id\n        \n      }\n      if (this.url_router == 'Vijesti'){\n        this.cat_id = this.categories[1].id\n        \n      }\n      if (this.url_router == 'Sport'){\n        this.cat_id = this.categories[2].id\n\n      }\n      if (this.url_router == 'Tech'){\n        this.cat_id = this.categories[3].id\n        \n      }\n      this.page ='1'\n      this.link = this.cat + this.cat_id.toString() + \"/\" + this.last\n      this.getArticles()\n    },\n\n    nextpage: function() {\n      this.prevpage = this.page\n      this.page = Number(this.page) + Number(1)\n\n      this.page = this.page.toString()\n      this.getArticles()\n\n    },\n    previouspage: function() {\n      if (this.page > 1) {\n        this.prevpage = this.page\n        this.page = Number(this.page) - Number(1)\n        this.page = this.page.toString()\n        this.getArticles()\n      }\n      else {\n        alert(\"Prva stranica\")\n      }\n\n    },\n    getCat: function(){\n      this.pulled = true;\n\n      axios.get(this.cat)\n      .then((response)  =>  {\n       \n        this.categories = response.data.results;\n      \n      }, (error)  =>  {\n        this.err = error;\n      })\n    },\n   \n    getArticles: function () {\n      \n      axios.get(this.link + this.page)\n      .then((response)  =>  {\n        this.pulled = true;\n\n        if (this.url_router == 'Početna'){\n          this.articles = response.data.results;\n        }\n        if (this.url_router != 'Početna'){\n          this.articles = response.data;\n        }\n        this.pulled = true;\n \n      }, (error)  =>  {\n        this.pulled = true;\n        this.page = this.prevpage;\n        this.err = error;\n      })\n    },\n\n    searchtd: function(){\n        var i;\n        var j;\n      for (i=0; i<this.allarti.length ; i++){\n        for (j=0; j<this.allarti[i].length; j++){\n        \n          var tit = this.allarti[i][j].title\n          var desc = this.allarti[i][j].description\n\n          if (tit.includes(this.query) || desc.includes(this.query)){\n            \n            this.toshow.push(this.allarti[i][j])\n            this.found = true;\n            \n          }\n          \n        }\n\n      }\n\n    },\n\n     getall: function(){\n\n      this.nextt = Number(this.nextt) + 1\n      this.nextt = this.nextt.toString()\n      axios.get(this.pocetna + this.nextt)\n      .then((response)  =>  {\n       \n        this.allarti.push(response.data.results)\n        this.getall();\n      \n      }, (error)  =>  {\n        this.searchtd()\n        this.err = error;\n      })\n    },\n    \n    \n  \n  },\n  \n\n}\n\n",{"version":3,"sources":["maincomponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAGA","file":"maincomponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"cont\">  \n<header>\n  <nav class=\"main-nav\">\n    <ul>\n      <li>\n        <ul>\n          <li><button v-on:click=\"set_url_router('Početna')\" >POČETNA</button></li>\n          <li><button v-on:click=\"set_url_router('Aktualno')\" >AKTUALNO</button></li>\n          <li><button v-on:click=\"set_url_router('Vijesti')\" >VIJESTI</button></li>\n          <li><button v-on:click=\"set_url_router('Sport')\" >SPORT</button></li>\n          <li><button v-on:click=\"set_url_router('Tech')\" >TECH</button></li>\n          <li><input type=\"text\" name=\"search\" v-model=\"query\"></li>\n          <li><button @click=\"getall()\">Trazi</button></li>\n\n        </ul>\n      </li>\n    </ul>\n  </nav>\n</header>\n<section id=\"video\" class=\"home\">\n  <h1>rssnews</h1>\n  <h2>Kanali portala 24 sata</h2>\n</section>\n<section id=\"main-content\">\n  <div class=\"text-intro\">\n    <h2>{{url_router}}</h2>\n\n  </div>\n\n<div v-if=\"found\">\n  <div class=\"columns features\" v-for=\"(data, index) in toshow\" :key='index'>\n    {{split_desc(data.description)}}\n    <div class=\"one-half first\">\n      <img class=\"center\" v-bind:src=\"image\">\n    </div>\n\n\n    <div class=\"one-half second\">\n      <h3 >{{data.title}}</h3>\n      <small class=\"text-muted\"> Naziv kanala: {{ data.channel }} </small><br>\n      <small class=\"text-muted\"> Datum objave: {{format_date(data.date_posted)}}</small>\n      <br>\n      <br>\n      <p>{{description}}</p>\n      <br>\n      <p><a v-bind:href=\"''+ data.link\" class=\"more\">Nastavi citati</a></p>\n    </div>\n  </div>\n             \n</div>\n\n\n<div v-else>\n  <div class=\"columns features\" v-for=\"(data, index) in articles\" :key='index'>\n    {{split_desc(data.description)}}\n    <div class=\"one-half first\">\n      <img class=\"center\" v-bind:src=\"image\">\n    </div>\n\n\n    <div class=\"one-half second\">\n      <h3 >{{data.title}}</h3>\n      <small class=\"text-muted\"> Naziv kanala: {{ data.channel }} </small><br>\n      <small class=\"text-muted\"> Datum objave: {{format_date(data.date_posted)}}</small>\n      <br>\n      <br>\n      <p>{{description}}</p>\n      <br>\n      <p><a v-bind:href=\"''+ data.link\" class=\"more\">Nastavi citati</a></p>\n    </div>\n</div>\n            \n    \n  </div>\n          <div>Stranica: {{page}}</div>\n          <button v-on:click=\"previouspage()\" >Prethodna</button>\n          <button v-on:click=\"nextpage()\" >Slijedeca</button>\n\n\n</section>\n<footer>\n  \n  \n  <div class=\"copyright\"> | <a target=\"_blank\" rel=\"nofollow\" href=\"#\">m</a> |</div>\n\n</footer>\n\n\n<div v-if=\"!pulled\">{{ getArticles() }}</div>\n<div v-once>{{ getCat() }}</div>\n\n</div>\n</template>\n\n\n\n<script>\n\nimport axios from 'axios';\n\n\nexport default {\n  \n  name: 'maincomponent',\n  data () {\n    return {\n      query: '',\n      allarti: [],\n      toshow: [],\n      found: false,\n      nextt: '1',\n\n      \n      url_router: 'Početna',\n\n      cat: \"http://127.0.0.1:8000/categories/\",\n      last: 'articles/?page=',\n      pocetna: 'http://127.0.0.1:8000/articles/?page=',\n      link: 'http://127.0.0.1:8000/articles/?page=',\n      page: '1',\n      prevpage: '1',\n      cat_id:'',\n      articles: [],\n      categories: [],\n      image: '',\n      description: '',\n      pulled: false,\n\n      err: ''\n    }\n  }, \n  methods: {\n\n    split_desc: function(desc){\n      var splitted = desc.split(\" />\")\n      var i = splitted[0]\n      i = i.split('\"')\n      this.image = i[1]\n\n      this.description = splitted[1]\n\n\n    },\n\n    format_date: function(fdate){\n       \n      var a = fdate.replace(/...Z$/, \"h\").replace(\"T\", \" \").split(\" \")\n      return a[0].split(\"-\").reverse().join(\".\") + \" u \" + a[1]\n    },\n\n    set_url_router: function(setr){\n      this.toshow = []\n      this.found = false\n      this.url_router = setr\n      if (this.url_router == 'Početna'){\n        this.link = this.pocetna\n        this.getArticles()\n        return\n      }\n      if (this.url_router == 'Aktualno'){\n        this.cat_id = this.categories[0].id\n        \n      }\n      if (this.url_router == 'Vijesti'){\n        this.cat_id = this.categories[1].id\n        \n      }\n      if (this.url_router == 'Sport'){\n        this.cat_id = this.categories[2].id\n\n      }\n      if (this.url_router == 'Tech'){\n        this.cat_id = this.categories[3].id\n        \n      }\n      this.page ='1'\n      this.link = this.cat + this.cat_id.toString() + \"/\" + this.last\n      this.getArticles()\n    },\n\n    nextpage: function() {\n      this.prevpage = this.page\n      this.page = Number(this.page) + Number(1)\n\n      this.page = this.page.toString()\n      this.getArticles()\n\n    },\n    previouspage: function() {\n      if (this.page > 1) {\n        this.prevpage = this.page\n        this.page = Number(this.page) - Number(1)\n        this.page = this.page.toString()\n        this.getArticles()\n      }\n      else {\n        alert(\"Prva stranica\")\n      }\n\n    },\n    getCat: function(){\n      this.pulled = true;\n\n      axios.get(this.cat)\n      .then((response)  =>  {\n       \n        this.categories = response.data.results;\n      \n      }, (error)  =>  {\n        this.err = error;\n      })\n    },\n   \n    getArticles: function () {\n      \n      axios.get(this.link + this.page)\n      .then((response)  =>  {\n        this.pulled = true;\n\n        if (this.url_router == 'Početna'){\n          this.articles = response.data.results;\n        }\n        if (this.url_router != 'Početna'){\n          this.articles = response.data;\n        }\n        this.pulled = true;\n \n      }, (error)  =>  {\n        this.pulled = true;\n        this.page = this.prevpage;\n        this.err = error;\n      })\n    },\n\n    searchtd: function(){\n        var i;\n        var j;\n      for (i=0; i<this.allarti.length ; i++){\n        for (j=0; j<this.allarti[i].length; j++){\n        \n          var tit = this.allarti[i][j].title\n          var desc = this.allarti[i][j].description\n\n          if (tit.includes(this.query) || desc.includes(this.query)){\n            \n            this.toshow.push(this.allarti[i][j])\n            this.found = true;\n            \n          }\n          \n        }\n\n      }\n\n    },\n\n     getall: function(){\n\n      this.nextt = Number(this.nextt) + 1\n      this.nextt = this.nextt.toString()\n      axios.get(this.pocetna + this.nextt)\n      .then((response)  =>  {\n       \n        this.allarti.push(response.data.results)\n        this.getall();\n      \n      }, (error)  =>  {\n        this.searchtd()\n        this.err = error;\n      })\n    },\n    \n    \n  \n  },\n  \n\n}\n\n</script>\n\n\n<style>\n\n\n</style>"]}]}