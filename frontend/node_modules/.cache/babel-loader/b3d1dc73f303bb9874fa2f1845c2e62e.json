{"remainingRequest":"/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/babel-loader/lib/index.js!/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/em/Development/Projects/StyriaZadatak/django_project/frontend/src/components/maincomponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/em/Development/Projects/StyriaZadatak/django_project/frontend/src/components/maincomponent.vue","mtime":1553259376975},{"path":"/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1552908606501},{"path":"/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/babel-loader/lib/index.js","mtime":1552908601090},{"path":"/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1552908606501},{"path":"/home/em/Development/Projects/StyriaZadatak/django_project/frontend/node_modules/vue-loader/lib/index.js","mtime":1552908606777}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.string.link\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'maincomponent',\n  data: function data() {\n    return {\n      query: '',\n      allarti: [],\n      toshow: [],\n      found: false,\n      nextt: '1',\n      url_router: 'Početna',\n      cat: \"http://127.0.0.1:8000/categories/\",\n      last: 'articles/?page=',\n      pocetna: 'http://127.0.0.1:8000/articles/?page=',\n      link: 'http://127.0.0.1:8000/articles/?page=',\n      page: '1',\n      prevpage: '1',\n      cat_id: '',\n      articles: [],\n      categories: [],\n      image: '',\n      description: '',\n      pulled: false,\n      err: ''\n    };\n  },\n  methods: {\n    split_desc: function split_desc(desc) {\n      var splitted = desc.split(\" />\");\n      var i = splitted[0];\n      i = i.split('\"');\n      this.image = i[1];\n      this.description = splitted[1];\n    },\n    format_date: function format_date(fdate) {\n      var a = fdate.replace(/...Z$/, \"h\").replace(\"T\", \" \").split(\" \");\n      return a[0].split(\"-\").reverse().join(\".\") + \" u \" + a[1];\n    },\n    set_url_router: function set_url_router(setr) {\n      this.toshow = [];\n      this.found = false;\n      this.url_router = setr;\n\n      if (this.url_router == 'Početna') {\n        this.link = this.pocetna;\n        this.getArticles();\n        return;\n      }\n\n      if (this.url_router == 'Aktualno') {\n        this.cat_id = this.categories[0].id;\n      }\n\n      if (this.url_router == 'Vijesti') {\n        this.cat_id = this.categories[1].id;\n      }\n\n      if (this.url_router == 'Sport') {\n        this.cat_id = this.categories[2].id;\n      }\n\n      if (this.url_router == 'Tech') {\n        this.cat_id = this.categories[3].id;\n      }\n\n      this.page = '1';\n      this.link = this.cat + this.cat_id.toString() + \"/\" + this.last;\n      this.getArticles();\n    },\n    nextpage: function nextpage() {\n      this.prevpage = this.page;\n      this.page = Number(this.page) + Number(1);\n      this.page = this.page.toString();\n      this.getArticles();\n    },\n    previouspage: function previouspage() {\n      if (this.page > 1) {\n        this.prevpage = this.page;\n        this.page = Number(this.page) - Number(1);\n        this.page = this.page.toString();\n        this.getArticles();\n      } else {\n        alert(\"Prva stranica\");\n      }\n    },\n    getCat: function getCat() {\n      var _this = this;\n\n      this.pulled = true;\n      axios.get(this.cat).then(function (response) {\n        _this.categories = response.data.results;\n      }, function (error) {\n        _this.err = error;\n      });\n    },\n    getArticles: function getArticles() {\n      var _this2 = this;\n\n      axios.get(this.link + this.page).then(function (response) {\n        _this2.pulled = true;\n\n        if (_this2.url_router == 'Početna') {\n          _this2.articles = response.data.results;\n        }\n\n        if (_this2.url_router != 'Početna') {\n          _this2.articles = response.data;\n        }\n\n        _this2.pulled = true;\n      }, function (error) {\n        _this2.pulled = true;\n        _this2.page = _this2.prevpage;\n        _this2.err = error;\n      });\n    },\n    searchtd: function searchtd() {\n      var i;\n      var j;\n\n      for (i = 0; i < this.allarti.length; i++) {\n        for (j = 0; j < this.allarti[i].length; j++) {\n          var tit = this.allarti[i][j].title;\n          var desc = this.allarti[i][j].description;\n\n          if (tit.includes(this.query) || desc.includes(this.query)) {\n            this.toshow.push(this.allarti[i][j]);\n            this.found = true;\n          }\n        }\n      }\n    },\n    getall: function getall() {\n      var _this3 = this;\n\n      this.nextt = Number(this.nextt) + 1;\n      this.nextt = this.nextt.toString();\n      axios.get(this.pocetna + this.nextt).then(function (response) {\n        _this3.allarti.push(response.data.results);\n\n        _this3.getall();\n      }, function (error) {\n        _this3.searchtd();\n\n        _this3.err = error;\n      });\n    }\n  }\n};",{"version":3,"sources":["maincomponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"cont\">  \n<header>\n  <nav class=\"main-nav\">\n    <ul>\n      <li>\n        <ul>\n          <li><button v-on:click=\"set_url_router('Početna')\" >POČETNA</button></li>\n          <li><button v-on:click=\"set_url_router('Aktualno')\" >AKTUALNO</button></li>\n          <li><button v-on:click=\"set_url_router('Vijesti')\" >VIJESTI</button></li>\n          <li><button v-on:click=\"set_url_router('Sport')\" >SPORT</button></li>\n          <li><button v-on:click=\"set_url_router('Tech')\" >TECH</button></li>\n          <li><input type=\"text\" name=\"search\" v-model=\"query\"></li>\n          <li><button @click=\"getall()\">Trazi</button></li>\n\n        </ul>\n      </li>\n    </ul>\n  </nav>\n</header>\n<section id=\"video\" class=\"home\">\n  <h1>rssnews</h1>\n  <h2>Kanali portala 24 sata</h2>\n</section>\n<section id=\"main-content\">\n  <div class=\"text-intro\">\n    <h2>{{url_router}}</h2>\n\n  </div>\n\n<div v-if=\"found\">\n  <div class=\"columns features\" v-for=\"(data, index) in toshow\" :key='index'>\n    {{split_desc(data.description)}}\n    <div class=\"one-half first\">\n      <img class=\"center\" v-bind:src=\"image\">\n    </div>\n\n\n    <div class=\"one-half second\">\n      <h3 >{{data.title}}</h3>\n      <small class=\"text-muted\"> Naziv kanala: {{ data.channel }} </small><br>\n      <small class=\"text-muted\"> Datum objave: {{format_date(data.date_posted)}}</small>\n      <br>\n      <br>\n      <p>{{description}}</p>\n      <br>\n      <p><a v-bind:href=\"''+ data.link\" class=\"more\">Nastavi citati</a></p>\n    </div>\n  </div>\n             \n</div>\n\n\n<div v-else>\n  <div class=\"columns features\" v-for=\"(data, index) in articles\" :key='index'>\n    {{split_desc(data.description)}}\n    <div class=\"one-half first\">\n      <img class=\"center\" v-bind:src=\"image\">\n    </div>\n\n\n    <div class=\"one-half second\">\n      <h3 >{{data.title}}</h3>\n      <small class=\"text-muted\"> Naziv kanala: {{ data.channel }} </small><br>\n      <small class=\"text-muted\"> Datum objave: {{format_date(data.date_posted)}}</small>\n      <br>\n      <br>\n      <p>{{description}}</p>\n      <br>\n      <p><a v-bind:href=\"''+ data.link\" class=\"more\">Nastavi citati</a></p>\n    </div>\n</div>\n            \n    \n  </div>\n          <div>Stranica: {{page}}</div>\n          <button v-on:click=\"previouspage()\" >Prethodna</button>\n          <button v-on:click=\"nextpage()\" >Slijedeca</button>\n\n\n</section>\n<footer>\n  \n  \n  <div class=\"copyright\"> | <a target=\"_blank\" rel=\"nofollow\" href=\"#\">m</a> |</div>\n\n</footer>\n\n\n<div v-if=\"!pulled\">{{ getArticles() }}</div>\n<div v-once>{{ getCat() }}</div>\n\n</div>\n</template>\n\n\n\n<script>\n\nimport axios from 'axios';\n\n\nexport default {\n  \n  name: 'maincomponent',\n  data () {\n    return {\n      query: '',\n      allarti: [],\n      toshow: [],\n      found: false,\n      nextt: '1',\n\n      \n      url_router: 'Početna',\n\n      cat: \"http://127.0.0.1:8000/categories/\",\n      last: 'articles/?page=',\n      pocetna: 'http://127.0.0.1:8000/articles/?page=',\n      link: 'http://127.0.0.1:8000/articles/?page=',\n      page: '1',\n      prevpage: '1',\n      cat_id:'',\n      articles: [],\n      categories: [],\n      image: '',\n      description: '',\n      pulled: false,\n\n      err: ''\n    }\n  }, \n  methods: {\n\n    split_desc: function(desc){\n      var splitted = desc.split(\" />\")\n      var i = splitted[0]\n      i = i.split('\"')\n      this.image = i[1]\n\n      this.description = splitted[1]\n\n\n    },\n\n    format_date: function(fdate){\n       \n      var a = fdate.replace(/...Z$/, \"h\").replace(\"T\", \" \").split(\" \")\n      return a[0].split(\"-\").reverse().join(\".\") + \" u \" + a[1]\n    },\n\n    set_url_router: function(setr){\n      this.toshow = []\n      this.found = false\n      this.url_router = setr\n      if (this.url_router == 'Početna'){\n        this.link = this.pocetna\n        this.getArticles()\n        return\n      }\n      if (this.url_router == 'Aktualno'){\n        this.cat_id = this.categories[0].id\n        \n      }\n      if (this.url_router == 'Vijesti'){\n        this.cat_id = this.categories[1].id\n        \n      }\n      if (this.url_router == 'Sport'){\n        this.cat_id = this.categories[2].id\n\n      }\n      if (this.url_router == 'Tech'){\n        this.cat_id = this.categories[3].id\n        \n      }\n      this.page ='1'\n      this.link = this.cat + this.cat_id.toString() + \"/\" + this.last\n      this.getArticles()\n    },\n\n    nextpage: function() {\n      this.prevpage = this.page\n      this.page = Number(this.page) + Number(1)\n\n      this.page = this.page.toString()\n      this.getArticles()\n\n    },\n    previouspage: function() {\n      if (this.page > 1) {\n        this.prevpage = this.page\n        this.page = Number(this.page) - Number(1)\n        this.page = this.page.toString()\n        this.getArticles()\n      }\n      else {\n        alert(\"Prva stranica\")\n      }\n\n    },\n    getCat: function(){\n      this.pulled = true;\n\n      axios.get(this.cat)\n      .then((response)  =>  {\n       \n        this.categories = response.data.results;\n      \n      }, (error)  =>  {\n        this.err = error;\n      })\n    },\n   \n    getArticles: function () {\n      \n      axios.get(this.link + this.page)\n      .then((response)  =>  {\n        this.pulled = true;\n\n        if (this.url_router == 'Početna'){\n          this.articles = response.data.results;\n        }\n        if (this.url_router != 'Početna'){\n          this.articles = response.data;\n        }\n        this.pulled = true;\n \n      }, (error)  =>  {\n        this.pulled = true;\n        this.page = this.prevpage;\n        this.err = error;\n      })\n    },\n\n    searchtd: function(){\n        var i;\n        var j;\n      for (i=0; i<this.allarti.length ; i++){\n        for (j=0; j<this.allarti[i].length; j++){\n        \n          var tit = this.allarti[i][j].title\n          var desc = this.allarti[i][j].description\n\n          if (tit.includes(this.query) || desc.includes(this.query)){\n            \n            this.toshow.push(this.allarti[i][j])\n            this.found = true;\n            \n          }\n          \n        }\n\n      }\n\n    },\n\n     getall: function(){\n\n      this.nextt = Number(this.nextt) + 1\n      this.nextt = this.nextt.toString()\n      axios.get(this.pocetna + this.nextt)\n      .then((response)  =>  {\n       \n        this.allarti.push(response.data.results)\n        this.getall();\n      \n      }, (error)  =>  {\n        this.searchtd()\n        this.err = error;\n      })\n    },\n    \n    \n  \n  },\n  \n\n}\n\n</script>\n\n\n<style>\n\n\n</style>"],"sourceRoot":"src/components"}]}